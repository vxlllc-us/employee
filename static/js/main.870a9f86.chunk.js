(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{44:function(e,t,n){e.exports=n(95)},49:function(e,t,n){},64:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(25),i=n.n(c),s=(n(49),n(27)),u=n(28),l=n(30),p=n(29),m=n(13),h=n(20),d=(n(64),{primary:"#fbfbfb",secondary:"#343d51",primaryText:"#0a0a0a",secondaryText:"#fbfbfb"}),E={s1:"Login With Google"},f={routes:{landing:"".concat("/employee","/"),home:"".concat("/employee","/home"),login:"".concat("/employee","/login")}},_=n(21),v=(n(65),n(38)),A=n(43);function S(e){return{type:a.SET_SESSION,payload:e}}!function(e){e.SET_SESSION="SET_SESSION"}(a||(a={}));var g={session:{active:!1,user:null}};var P=Object(_.c)({runtime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_SESSION:return Object(A.a)({},e,{session:t.payload});default:return e}}}),b=[v.a];var O=Object(_.d)(P,_.a.apply(void 0,b)),T=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,user:null},e.onLogin=function(t){t.preventDefault();var n=new m.auth.GoogleAuthProvider;Object(m.auth)().signInWithPopup(n).then((function(t){t.credential.accessToken;var n=t.user;e.props.setSession({active:!0,user:n}),e.props.history.push(f.routes.home),e.setState({loading:!1,user:n})})).catch((function(t){t.code,t.message,t.email,t.credential;e.setState({loading:!1})}))},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(){this.props.runtime.session.active&&this.props.history.push(f.routes.home)}},{key:"componentDidMount",value:function(){this.props.runtime.session.active&&this.props.history.push(f.routes.home)}},{key:"render",value:function(){return o.a.createElement("div",{className:"home-root"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"login-container"},o.a.createElement("div",{className:"logo-container"}),o.a.createElement("div",{onClick:this.onLogin,className:"button"},o.a.createElement("div",{className:"google-logo-container"}),o.a.createElement("div",{className:"text-container"},o.a.createElement("span",null,E.s1))))))}}]),n}(o.a.Component),y={setSession:function(e){return S(e)}},C=Object(h.b)((function(e){return e}),y)(T),R=n(12),j=n.n(R),I=n(17),N=n(42),D=n(11),w=n(39),x=(n(91),Object({NODE_ENV:"production",PUBLIC_URL:"/employee",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE:"/employee",REACT_APP_API_KEY:"AIzaSyC4rryp9NJdOqgUi6RJFQN2j5sq19eKmY4",REACT_APP_AUTH_DOMAIN:"vxlllc.firebaseapp.com",REACT_APP_DATABASE_URL:"https://vxlllc.firebaseio.com",REACT_APP_PROJECT_ID:"vxlllc",REACT_APP_STORAGE_BUCKET:"vxlllc.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"748609608235",REACT_APP_APP_ID:"1:748609608235:web:f44233521d8f7b0220286e"})),k=x.REACT_APP_API_KEY,U=x.REACT_APP_AUTH_DOMAIN,K=x.REACT_APP_DATABASE_URL,L=x.REACT_APP_PROJECT_ID,B=x.REACT_APP_STORAGE_BUCKET,G=x.REACT_APP_MESSAGING_SENDER_ID,J=x.REACT_APP_APP_ID;function M(){return H.apply(this,arguments)}function H(){return(H=Object(I.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.apps.length||m.initializeApp({apiKey:k,authDomain:U,databaseUrl:K,projectId:L,storageBucket:B,messagingSenderId:G,appId:J});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return Y.apply(this,arguments)}function Y(){return(Y=Object(I.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.apps.length||M(),m.auth().onAuthStateChanged((function(e){e?O.dispatch(S({active:!0,user:e})):O.dispatch(S({active:!1,user:null}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=n(40),z=function(e){var t=e.component,n=Object(q.a)(e,["component"]),a=Object(h.c)((function(e){return e.runtime.session}));return console.log("session in protectedroute: ",a),o.a.createElement(D.b,Object.assign({},n,{render:function(e){return 1==a.active?o.a.createElement(t,e):o.a.createElement(D.a,{to:f.routes.landing})}}))},F=(n(93),function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(I.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,M();case 3:return e.next=5,W();case 5:setTimeout((function(){t.setState({loading:!1})}),2e3);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?o.a.createElement("div",{className:"wrapper-root"},o.a.createElement(w.ScaleLoader,{color:d.secondary,height:12,width:4,radius:2,margin:2})):o.a.createElement(h.a,{store:O},o.a.createElement(N.a,null,o.a.createElement(D.d,null,o.a.createElement(D.b,{exact:!0,path:f.routes.landing,component:C}),o.a.createElement(z,{exact:!0,path:f.routes.home,component:X}))))}}]),n}(o.a.Component));function Q(){return(Q=Object(I.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.auth)().signOut().then((function(){t()})).catch((function(e){t(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(94);function V(e){e.preventDefault(),function(e){Q.apply(this,arguments)}((function(e){e&&alert(e.message)}))}var X=function(e){return o.a.createElement("div",{className:"home-root"},o.a.createElement("h1",null,"Home"),o.a.createElement("button",{onClick:V},"Logout"))},Z=document.getElementById("root");i.a.render(o.a.createElement(F,null),Z)}},[[44,1,2]]]);
//# sourceMappingURL=main.870a9f86.chunk.js.map